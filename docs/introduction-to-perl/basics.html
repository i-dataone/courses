<head><title>basics</title><link rel="stylesheet" href="../../server/css/index.css"></head>
<h1 id="基本事項">基本事項</h1>
<h2 id="プログラムの実行">プログラムの実行</h2>
<p>Perlプログラムは<strong>宣言</strong>と<strong>命令</strong>から構成されます。プログラムはループと条件付き制御を含め、上から順番に実行されます。各命令はセミコロン「;」で終わります。</p>
<p>Perlファイルの拡張子は<code>.pl</code>です。
次のコードを<code>hello.pl</code>というファイル名で保存してください</p>
<pre><code class="language-Perl">print &quot;hello world\n&quot;;</code></pre>
<p>コマンドプロンプトで<code>perl hello.pl``を入力して実行すると、</code>hello world`と出力されます。</p>
<p><img src="https://s1.ax1x.com/2020/04/28/J53pAe.png" alt="J53pAe.png"></p>
<h2 id="コメントの書き方">コメントの書き方</h2>
<p>コメントは<code>#</code>の後に続けます。</p>
<p>Perl はファイルの先頭に<code>use strict; use warnings;</code>と書くことが推奨されています。これを付けると文法の厳密なチェックをしたり、警告を出力することができて、正しいプログラムが書けるようになります。このために、忘れずに付けるようにしてください。</p>
<h2 id="条件分岐">条件分岐</h2>
<h3 id="if条件分岐">If条件分岐</h3>
<p>If条件分岐の基本文法：</p>
<pre><code class="language-Perl">if(条件){
  条件に合わせる場合の処理；
 }</code></pre>
<p>条件を書くために<code>&lt;</code>,<code>&gt;</code>,<code>==</code>,<code>&lt;=</code>,<code>&gt;=</code>,<code>!=</code>等の演算子が使えます。</p>
<p>例えば、</p>
<pre><code class="language-Perl">my $score = 65;
if($score &gt;= 60){
  print(&quot;OK&quot;);
 }</code></pre>
<p>とすると、実行結果は
<code>OK</code>
となります。</p>
<p>If条件分岐の条件には数字だけではなく、文字列も使えます。</p>
<p>条件は<code>eq</code>(==) <code>ne</code>(!=) <code>gt</code>(&gt;) <code>lt</code>(&lt;) <code>ge</code>(&gt;=) <code>le</code>(&lt;=) 、なお、文字列を比較する時、文字コードの順番は<code>0-9 &lt; A-Z &lt; a-z</code>です、例えば「aA」&gt;「Aa」。は論理演算子には<code>&amp;&amp;</code>（AND）,<code>||</code>（OR）,<code>&amp;&amp;</code>（AND）,<code>!</code>（NOT）があります。</p>
<p>例えば、</p>
<pre><code class="language-Perl">my $color = green;
my $score = 60;
if($color eq green)&amp;&amp;($score = 60){
  print(&quot;OK&quot;);
 }</code></pre>
<p>を実行すると、結果は</p>
<p><code>OK</code>
となります。</p>
<h4 id="if条件の後置">if条件の後置</h4>
<p>if文は処理の後でも書けます。たとえば、前のif条件分岐は以下のようにも書けます：</p>
<pre><code class="language-Perl">my $score = 65;
print(&quot;OK&quot;); if($score &gt;= 60)</code></pre>
<p>を実行すると、結果は
<code>OK</code>
となります。</p>
<h3 id="ifelse条件分岐">if...else条件分岐</h3>
<p>If...else条件分岐の基本文法：</p>
<pre><code class="language-Perl">if(条件){  
 条件に合わせる場合の処理;
 }else{
 条件に合わせない場合の処理;
 }</code></pre>
<p>例えば、</p>
<pre><code class="language-Perl">my $score = 65;
if($score &gt;= 60){
  print(&quot;OK&quot;);
 }else{
  print(&quot;NG&quot;);
 }</code></pre>
<p>を実行すると、結果は
<code>OK</code>
となります。
もし<code>$score = 55</code>としたら、実行結果は
<code>NG</code>
となります。</p>
<h3 id="ifelsif条件分岐">if...elsif...条件分岐</h3>
<p>If...elsif...条件分岐の基本文法：</p>
<pre><code class="language-Perl">if(条件1){  
 条件1に合わせる場合の処理;
 }elsif(条件2){
 条件2に合わせる場合の処理;
 }else{
 条件1も条件2も合わせない場合の処理;
 }</code></pre>
<p>例えば、</p>
<pre><code class="language-Perl">my $score = 65;
if($score &lt; 60)&amp;&amp;($score &lt; 90){
  print(&quot;NG&quot;);
}elsif($score &gt;= 60)&amp;&amp;($score &lt; 90){
  print(&quot;OK&quot;);
 }else{
  print(&quot;GREAT&quot;);
 }</code></pre>
<p>を実行すると、結果は
<code>OK</code>
となります。
もし<code>$score = 55</code>としたら、実行結果は
<code>NG</code>
もし<code>$score = 95</code>としたら、実行結果は
<code>GREAT</code>
となります。</p>
<h3 id="三項演算子">三項演算子</h3>
<p>三項演算子の基本文法：</p>
<pre><code class="language-Perl">(条件)?　値a : 値b;</code></pre>
<p>例えば、</p>
<pre><code class="language-Perl">my $a = 50;
my $b = 60;
my $max = ($a &gt; $b)? $a : $b;
print $max;</code></pre>
<p>を実行すると、結果は
<code>60</code>
となります。</p>
<h3 id="unless条件分岐">unless条件分岐</h3>
<p>unless条件分岐の基本文法：</p>
<pre><code class="language-Perl">unless (条件){
  条件に合わせない場合の処理 1;
  条件に合わせない場合の処理 2;
}</code></pre>
<p>例えば、</p>
<pre><code class="language-Perl">my $score = 65;
unless ($score &lt; 60){
  print (&quot;OK&quot;);
  print (&quot;YES&quot;);
}</code></pre>
<p>を実行すると、結果は
<code>OKYES</code>
となります。</p>
<h3 id="unlesselse条件分岐">unless...else条件分岐</h3>
<p>unless...else条件分岐の基本文法：</p>
<pre><code class="language-Perl">unless(条件)｛
 条件に合わせない場合の処理;
 ｝else{
 条件に合わせる場合の処理;
 }</code></pre>
<p>例えば、</p>
<pre><code class="language-Perl">my $score = 65;
unless($score &lt; 60){
 print&quot;OK&quot;;
}else{
 print&quot;NG&quot;
}</code></pre>
<p>を実行すると、結果は
<code>OK</code>
となります。</p>
<h3 id="unlesselsif条件分岐">unless...elsif条件分岐</h3>
<p>unless...else条件分岐の基本文法：</p>
<pre><code class="language-Perl">unless(条件1)｛
 条件1に合わせない場合の処理;
 ｝elsif(条件2){
 条件2に合わせる場合の処理;
 } else{
  その他の場合の処理;
 }</code></pre>
<p>例えば、</p>
<pre><code class="language-Perl">my $score = 65;
unless($score&gt;60){
 print&quot;NG&quot;;
}elsif($score&gt;=60)&amp;&amp;($score&lt;90){
 print&quot;OK&quot;;
}else{
 print&quot;GREAT&quot;;
}</code></pre>
<p>を実行すると、結果は
<code>OK</code>
となります。
もし<code>$score = 55</code>としたら、実行結果は
<code>NG</code>
もし<code>$score = 95</code>としたら、実行結果は
<code>GREAT</code>
となります。</p>
<h3 id="switch条件分岐">switch条件分岐</h3>
<p>Switchの実行はSwitchモジュールに基づいています。このモジュールはデフォルトではインストールされません。
Switchモジュールのインストール：
コマンドプロンプトを開いて、以下の命令を入力します：</p>
<pre><code class="language-cmd">cpan
cpan&gt; install Switch
cpan&gt; exit</code></pre>
<p>switch条件分岐の基本文法：</p>
<pre><code class="language-Perl">use Switch;

Switch(引数){
case 1  {print&quot;数字１&quot;}
case &quot;a&quot;{print&quot;文字a&quot;}
...
else    {print&quot;その他&quot;}
}</code></pre>
<p>例えば、</p>
<pre><code class="language-Perl">use Switch;
my $number = 10;
my @score = (50,60,90);
my %hash = (&#39;Tom&#39;=50,&#39;Lily&#39;=90);

Switch($number){
 case 10       {print&quot;数字10&quot;};
 case &quot;a&quot;      {print&quot;文字a&quot;};
 case(\@score) {print&quot;数字はscore配列の中&quot;}
 else          {print&quot;その他&quot;}
}</code></pre>
<p>を実行すると、結果は
<code>数字10</code></p>
<h2 id="繰り返し処理">繰り返し処理</h2>
<h3 id="while文">while文</h3>
<p>while文の基本文法：</p>
<pre><code class="language-Perl">while(条件){
 実行処理;
 ループ処理;
}</code></pre>
<p>例えば、</p>
<pre><code class="language-Perl">my $number = 0;
while($number&lt;5){
 print&quot;number=$number\n&quot;;
 $number++;
}
print&quot;ループ完了。&quot;;</code></pre>
<p>を実行すると、結果は</p>
<pre><code class="language-number=0">number=1
number=2
number=3
number=4
ループ完了。</code></pre>
<p>と0から4まで5回ループ処理を行われました。</p>
<h3 id="dowhile文">do...while文</h3>
<p>do...while文の基本文法：</p>
<pre><code class="language-Perl">do{
 実行処理;
 ループ処理;
}while(条件);</code></pre>
<p>*　do ... whileループはwhileループに似ていますが、do...whileループが少なくとも1回ループ実行されることが保証されます。</p>
<p>例えば、</p>
<pre><code class="language-Perl">my $number = 0;
do{
 print&quot;number=$number\n&quot;;
 $number++;
}while($number&lt;5);
print&quot;ループ完了。&quot;;</code></pre>
<p>を実行すると、結果は</p>
<pre><code class="language-number=0">number=1
number=2
number=3
number=4
ループ完了。</code></pre>
<p>と0から4まで5回ループ処理を行われました。</p>
<h3 id="for文">for文</h3>
<p>for文の基本文法：</p>
<pre><code class="language-Perl">for(初期化;条件;ループ処理){
 実行処理;
}</code></pre>
<p>例えば、</p>
<pre><code class="language-Perl">for(my $number = 0;$number &lt; 5;$number++){
 print&quot;number = $number\n&quot;;
}
print&quot;ループ完了&quot;;</code></pre>
<p>を実行すると、結果は</p>
<pre><code class="language-number=0">number=1
number=2
number=3
number=4
ループ完了。</code></pre>
<p>と0から4まで5回ループ処理を行われました。</p>
<h3 id="until文">until文</h3>
<p>until文の基本文法：</p>
<pre><code class="language-Perl">until(条件){
 実行処理;
 ループ処理;
}</code></pre>
<p>while文とuntil文の違い：while文は条件に合う場合でループ処理を実行するのに対して、until文は条件に合わない場合でループ処理を実行します。
例えば、</p>
<pre><code class="language-Perl">my $number = 0;
until($number&gt;=5){
 print&quot;number = $number\n&quot;;
 $number++;
}
print&quot;ループ完了&quot;</code></pre>
<p>を実行すると、結果は</p>
<pre><code class="language-number=0">number=1
number=2
number=3
number=4
ループ完了。</code></pre>
<p>と0から4まで5回ループ処理を行われました。</p>
<h3 id="foreach文">foreach文</h3>
<p>foreach文の基本文法：</p>
<pre><code class="language-Perl">foreach 変数(リスト){
 実行処理;
}</code></pre>
<p>リストの要素は順番に変数に格納するループ処理です。
例えば、</p>
<pre><code class="language-Perl">my @color = (&quot;red&quot;,&quot;yellow&quot;,&quot;green&quot;);
foreach my $signal (@color){
 print&quot;$signal\n&quot;;
}</code></pre>
<p>を実行すると、結果は</p>
<pre><code class="language-red">yellow
green</code></pre>
<p>となります。</p>
<p>実は、for文とforeach文は同じ構文です。for文の変数をリストに指定すれば、foreach文と同じループ処理を行うことができます。このためで、以下の通りに書くと同じ結果ができます。</p>
<pre><code class="language-Perl">my @color = (&quot;red&quot;,&quot;yellow&quot;,&quot;green&quot;);
for my $signal (@color){
 print&quot;$signal\n&quot;;
}</code></pre>
<p>を実行すると、結果は</p>
<pre><code class="language-red">yellow
green</code></pre>
<p>となります。</p>
<h3 id="next文">next文</h3>
<p>「next」演算子は実行しているループを指示する位置をスキップして次のループを行います。</p>
<p>next文の基本文法：</p>
<pre><code class="language-Perl">next;</code></pre>
<p>例えば：</p>
<pre><code class="language-Perl">my $number = 0;

while ($number &lt;= 5){
  $number++;

  if ($number == 2){
    next;
  }

  print &quot;$number\n&quot;;

}
print &quot;end\n&quot;;</code></pre>
<p>を実行すると、結果は</p>
<pre><code class="language-1">3
4
5
6
end</code></pre>
<p>となります。</p>
<h2 id="continue文">continue文</h2>
<p>「next」演算子は実行しているループを指示する位置をスキップして次のループを行います。</p>
<p>next文の基本文法：</p>
<pre><code class="language-Perl">while(条件)｛
　処理；
｝continue{
  処理;
}</code></pre>
<p>例えば：</p>
<pre><code class="language-Perl">$number = 0;
while($number &lt; 5){
 print&quot;number = $number\n&quot;；
}continue{
 $number = $number+1;
}</code></pre>
<p>を実行すると、結果は</p>
<pre><code class="language-number">number = 1
number = 2
number = 3
number = 4</code></pre>
<p>となります。</p>

<!DOCTYPE html><html lang="ja"><head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="../style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <title>変数</title>
    </head>
    <body><h1 id="変数">変数</h1>
<h2 id="変数タイプ">変数タイプ</h2>
<p>Perlのデータにはスカラー値、配列、ハッシュの三種類があります、それに応じて、変数はスカラー変数、配列変数、ハッシュ変数の三種類があります。</p>
<p>変数を宣言する時には必ず 'my' とつけます。例えば、<code>$var</code>という名前のスカラー変数を宣言するには、<code>my $var;</code>とします。</p>
<p>変数名はプレフィックスと呼ばれる記号から始まります。プレフィックスは、スカラー変数の場合は<code>$</code>、配列変数の場合は<code>@</code>、ハッシュ変数の場合は<code>%</code>です。</p>
<h2 id="スカラー変数">スカラー変数</h2>
<p>スカラー変数の「スカラー」は「単一の値」という意味です。スカラー変数は数値か文字列を格納します。スカラー変数の名前の1 文字目は必ず 「$」マークにします。2 文字目以降は好きなものを使っていいのですが、「_」か英数字にしてください。</p>
<p>例えば、次のコードを<code>hello.pl</code>という名前のファイルに保存してください。</p>
<pre><code class="Perl"><span class="hljs-keyword">use</span> strict;
<span class="hljs-keyword">use</span> warnings;
<span class="hljs-keyword">my</span> $hw = <span class="hljs-string">"hello world\n"</span>;
<span class="hljs-keyword">print</span> $hw;</code></pre>
<p><code>hello.pl</code>を実行すると、<code>hello world</code>という出力を得ます。</p>
<p>スカラー変数に格納する文字列は二つの<code>"</code>か<code>'</code>で囲みます。この二つには違いがあります。二つの<code>"</code>で囲まれた文字列には特殊文字が使えます。例えば、タブ記号を表す<code>\t</code>と改行を表す<code>\n</code>を使って</p>
<pre><code class="Perl"><span class="hljs-keyword">my</span> $hw = <span class="hljs-string">"he\tll\no"</span></code></pre>
<p>とすると、実行結果は</p>
<pre><code>he  ll
o</code></pre>
<p>となります。</p>
<p>二つの<code>'</code>で囲った場合、特殊文字は使えません。例えば、</p>
<pre><code class="Perl"><span class="hljs-keyword">my</span> $hw = <span class="hljs-string">'he\tll\no'</span></code></pre>
<p>とすると、実行結果は</p>
<pre><code>he/tllo/n</code></pre>
<p>となります。</p>
<p>ここまではスカラー変数が文字列の場合でした。数値の場合は演算をすることができます。例えば、<code>+, -, *, /, %, ++, --, **, +=, -=, *=</code>等の演算ができます。</p>
<p>以下の例を見てください：</p>
<pre><code class="Perl"><span class="hljs-keyword">use</span> strict;
<span class="hljs-keyword">use</span> warnings;
<span class="hljs-keyword">my</span> $a = <span class="hljs-number">2</span>;
<span class="hljs-keyword">my</span> $b = <span class="hljs-number">0</span>.<span class="hljs-number">3</span>;
<span class="hljs-keyword">my</span> $c = <span class="hljs-number">123_456_789</span>;
<span class="hljs-comment">#数字の中の「_」は無職されます。</span>
<span class="hljs-keyword">my</span> $aa = <span class="hljs-number">2</span> * <span class="hljs-number">2</span>;  <span class="hljs-comment"># 4</span>
<span class="hljs-keyword">my</span> $bb = <span class="hljs-number">10</span> % <span class="hljs-number">3</span>; <span class="hljs-comment"># 1</span>
<span class="hljs-keyword">my</span> $zz = <span class="hljs-number">2</span> ** <span class="hljs-number">5</span>; <span class="hljs-comment"># 32</span>
$a++;  <span class="hljs-comment"># 3</span>
$a--;  <span class="hljs-comment"># 2</span>
$a += <span class="hljs-number">5</span>;  <span class="hljs-comment"># $a = $a + 5 =7</span></code></pre>
<h2 id="配列変数">配列変数</h2>
<p>スカラー変数が単一の値を格納するのに対して、配列変数は複数の値をまとめて管理します。書き方は、次のようにします：</p>
<pre><code class="Perl"><span class="hljs-keyword">my</span> @price = (<span class="hljs-number">100</span>,<span class="hljs-number">200</span>,<span class="hljs-number">300</span>);</code></pre>
<p>こう書くと、配列変数<code>@price</code>に100, 200, 300という三つの値が格納されます。</p>
<p>文字列も格納できます。例えば、</p>
<pre><code class="Perl"><span class="hljs-keyword">my</span> @number = (<span class="hljs-string">'one'</span>,<span class="hljs-string">'two'</span>,<span class="hljs-string">'three'</span>);
<span class="hljs-keyword">my</span> mixing = (<span class="hljs-number">100</span>,<span class="hljs-string">'two'</span>,<span class="hljs-number">300</span>);</code></pre>
<p>これらの変数は次のように書くこともできます：</p>
<pre><code class="Perl"><span class="hljs-keyword">my</span> @number = (<span class="hljs-number">1</span>..<span class="hljs-number">50</span>);
<span class="hljs-keyword">my</span> @number = <span class="hljs-string">qw(one two three)</span>;</code></pre>
<h3 id="配列変数の要素を取り出す">配列変数の要素を取り出す</h3>
<p>配列変数から要素を取り出には、取り出す要素の番号を<code>[]</code>に入れます。要素番号は<code>0</code>から始まります。たとえば、</p>
<pre><code class="Perl"><span class="hljs-keyword">my</span> @number = (<span class="hljs-number">10</span>,<span class="hljs-number">20</span>,<span class="hljs-number">30</span>);

<span class="hljs-keyword">print</span> $number[<span class="hljs-number">0</span>];
<span class="hljs-keyword">print</span> $number[<span class="hljs-number">1</span>];
<span class="hljs-keyword">print</span> $number[<span class="hljs-number">2</span>];</code></pre>
<p>とすると、実行結果は</p>
<pre><code>10
20
30</code></pre>
<p>となります。配列関数から取り出した変数はスカラー変数になりますから、マークは<code>@</code>から<code>$</code>に転換します。</p>
<p>また、要素番号には負の値を入れることができます。要素番号-1、-2、-3、...は、末尾から数えて1番目、2番目、3番目、...になります。たとえば前の例では、<code>$number[-1]</code>、<code>$number[-2]</code>、<code>$number[-3]</code>はそれぞれ<code>30</code>、<code>20</code>、<code>10</code>となります。</p>
<p>以上は配列変数から一つの要素を取り出す場合です。配列変数から範囲を取り出したい場合は、以下のように書きます：</p>
<pre><code class="Perl"><span class="hljs-keyword">print</span> @number[<span class="hljs-number">0</span>..<span class="hljs-number">1</span>];</code></pre>
<p>実行結果は</p>
<pre><code>1020</code></pre>
<p>となります。</p>
<p>一番最後の要素には<code>$#配列名</code>という名前が自動的に作られます。もし一番目から最後までの要素を取り出したいなら、以下のように書きます：</p>
<pre><code class="Perl"><span class="hljs-keyword">print</span> @number[<span class="hljs-number">1</span>..$#number];</code></pre>
<p>実行結果は</p>
<p><code>2030</code></p>
<p>となります。</p>
<h2 id="ハッシュ変数">ハッシュ変数</h2>
<p>ハッシュ変数はキーとスカラー値の組からなるデータを格納する変数です。変数マークは<code>%</code>です。例えば、</p>
<pre><code class="Perl"><span class="hljs-keyword">my</span> @score= (<span class="hljs-number">40</span>,<span class="hljs-number">60</span>,<span class="hljs-number">90</span>);</code></pre>
<p>の配列変数をキーと一緒に管理したいならば、こう変えます：</p>
<pre><code class="Perl"><span class="hljs-keyword">my</span> %score = (<span class="hljs-string">"failed"</span>=<span class="hljs-number">40</span>,<span class="hljs-string">"pass"</span>=<span class="hljs-number">60</span>,<span class="hljs-string">"excellent"</span>=<span class="hljs-number">100</span>);</code></pre>
<p>要素を取り出すには、以下のようにします：</p>
<pre><code class="Perl"><span class="hljs-keyword">print</span> $score{<span class="hljs-string">"failed"</span>};</code></pre>
<p>実行結果は</p>
<pre><code>40</code></pre>
<p>となります。取り出した変数はスカラー変数になるので、マークは<code>$</code>になります。</p>
</body></html>
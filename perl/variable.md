# 変数

## 変数タイプ

Perlのデータにはスカラー値、配列、ハッシュの三種類があります、それに応じて、変数はスカラー変数、配列変数、ハッシュ変数の三種類があります。
変数を宣言する時には必ず 'my' とつけます。例えば、`$var`という名前のスカラー変数を宣言するには、`my $var;`とします。
変数名はプレフィックスと呼ばれる記号から始まります。プレフィックスは、スカラー変数の場合は`$`、配列変数の場合は`@`、ハッシュ変数の場合は`%`です。

## スカラー変数

スカラー変数の「スカラー」は「単一の値」という意味です、スカラー変数は数値か文字列を格納します。
スカラー変数の名前の1 文字目は必ず 「$」マークにします。2 文字目以降は好きなものを使っていいのですが、「_」か英数字書いてください。
例えば、「hello.pl」の中で命令を書いていきましょう。

``` Perl
use strict;
use warnings;
my $hw = "hello world\n";
print $hw;
```

「hello.pl」を実行して、「helloworld」の結果を出てきます。

<ここはコマンドプロンプトの実行結果のキャプチャーの図を置きます。>

スカラー変数に格納する文字列は「””」か「’’」のに入れて使いますが、ちょっと違いがあります。「””」の中の文字列は特殊文字を使えます。例えば「\t」（タブ記号）「\n」（改行記号）を入れて
```he\tllo\n```
とすると、実行結果は

```he      llo```

となります。
「’ ’」の中の文字列は特殊文字を使えません。例えば「\t」（タブ記号）「\n」（改行記号）を入って、
```he/tllo/n```
とすると、実行結果は
```he/tllo/n```
となります。

ここまではスカラー変数が文字列の場合です。数値の場合は演算することができます。例えば「＋、－、＊、／、％、＝、＋＋、－－、＊＊、＋＝、-=、＊＝」等の演算をできます。
以下の例を見てください：

``` Perl
use strict;
use warnings;
my $a = 2;
my $b = 0.3;
my $c = 123_456_789;
#数字の中の「_」は無職されます。
my $aa = 2 * 2;  # 4
my $bb = 10 % 3; # 1
my $zz = 2 ** 5; # 32
$a++;  # 3
$a--;  # 2
$a += 5;  # $a = $a + 5 =7
```

## 配列変数

スカラー変数が単一の値を格納するのに対して、配列変数は複数の値をまとめて管理します。
書き方は、次のようにします：

``` Perl
my @price = (100,200,300);
```

こう書くと、配列変数`@price`に100, 200, 300という三つの値が格納されます。
文字列も格納できます。
例えば、

```Perl
my @number = ('one','two','three');
my mixing = (100,'two',300);
```

これらの変数は次のように書くこともできます：

```Perl
my @number = (1..50);
my @number = qw(one two three);
```

### 配列変数の要素を取り出す

配列変数から要素を取り出には、取り出す要素の番号を`[]`に入れます。要素番号は`0`から始まります。たとえば、

``` Perl
my @number = (10,20,30);

print $number[0];
print $number[1];
print $number[2];
```

とすると、実行結果は

```10
20
30
```

となります。配列関数から取り出した変数はスカラー変数になりますから、マークは`@`から`$`に転換します。
また、要素番号には負の値を入れることができます。要素番号-1、-2、-3、...は、末尾から数えて1番目、2番目、3番目、...になります。たとえば前の例では、`$number[-1]`、`$number[-2]`、`$number[-3]`はそれぞれ`30`、`20`、`10`となります。

以上は配列変数から一つの要素を取り出す場合です。配列変数から範囲を取り出したい場合は、以下のように書きます：

``` Perl
print @number[0..1];
```

実行結果は

```1020```

となります。

一番最後の要素は「$#配列名」という名前が自動的に作られます。もし一番目から最後までの要素を取り出したいなら、以下のように書きます：

``` Perl
print @number[1..$#number];
```

とすると、実行結果は

```2030```

となります。

## ハッシュ変数

ハッシュ変数はキーとスカラー値の組からなるデータを格納する変数です。変数マークは`%`です。例えば、

``` Perl
my @score= (40,60,90);
```

の配列変数をキーと一緒に管理したいなら、こう変えます：

``` Perl
my %score = ("failed"=40,"pass"=60,"excellent"=100);
```

要素を取り出すには、以下のようにします：

```Perl
print $score{"failed"};
```

実行結果は
```40```
となります。取り出した変数はスカラー変数になるので、マークは`$`になります。
